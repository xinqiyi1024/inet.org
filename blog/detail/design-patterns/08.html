<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.35">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>è®¾è®¡æ¨¡å¼ç¬¬å…«èŠ‚ | INet</title><meta name="description" content="INet">
    <link rel="modulepreload" href="/inet.org/assets/app.4529ec83.js"><link rel="modulepreload" href="/inet.org/assets/08.html.3e525b85.js"><link rel="modulepreload" href="/inet.org/assets/08.html.5530a0c9.js"><link rel="modulepreload" href="/inet.org/assets/plugin-vue_export-helper.21dcd24c.js">
    <link rel="stylesheet" href="/inet.org/assets/style.45c657d4.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/inet.org/" class=""><img class="logo" src="/inet.org/img/logo.svg" alt="INet"><span class="site-name can-hide">INet</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/inet.org/introduce/" class="" aria-label="ä»‹ç»"><!--[--><!--]--> ä»‹ç» <!--[--><!--]--></a></div><div class="navbar-item"><a href="/inet.org/team/" class="" aria-label="å›¢é˜Ÿ"><!--[--><!--]--> å›¢é˜Ÿ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/inet.org/honor/" class="" aria-label="è£èª‰"><!--[--><!--]--> è£èª‰ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/inet.org/surroundings/" class="" aria-label="ç¯å¢ƒ"><!--[--><!--]--> ç¯å¢ƒ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/inet.org/news/" class="" aria-label="æ–°é—»"><!--[--><!--]--> æ–°é—» <!--[--><!--]--></a></div><div class="navbar-item"><a href="/inet.org/activity/" class="" aria-label="æ´»åŠ¨"><!--[--><!--]--> æ´»åŠ¨ <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="åŠŸèƒ½"><span class="title">åŠŸèƒ½</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="åŠŸèƒ½"><span class="title">åŠŸèƒ½</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/inet.org/features/sign/" class="" aria-label="ç­¾åˆ°"><!--[--><!--]--> ç­¾åˆ° <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://jumper.elonehoo.xyz" rel="noopener noreferrer" target="_blank" aria-label="vue-jumper"><!--[--><!--]--> vue-jumper <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://hzpt-inet-club.github.io/english-note/" rel="noopener noreferrer" target="_blank" aria-label="è‹±è¯­è¯­æ³•ç¬”è®°"><!--[--><!--]--> è‹±è¯­è¯­æ³•ç¬”è®° <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://2048.elonehoo.xyz" rel="noopener noreferrer" target="_blank" aria-label="2048"><!--[--><!--]--> 2048 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a href="/inet.org/collect/" class="" aria-label="æ”¶è—"><!--[--><!--]--> æ”¶è— <!--[--><!--]--></a></div><div class="navbar-item"><a href="/inet.org/blog/" class="router-link-active" aria-label="åšå®¢"><!--[--><!--]--> åšå®¢ <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/inet.org/introduce/" class="" aria-label="ä»‹ç»"><!--[--><!--]--> ä»‹ç» <!--[--><!--]--></a></div><div class="navbar-item"><a href="/inet.org/team/" class="" aria-label="å›¢é˜Ÿ"><!--[--><!--]--> å›¢é˜Ÿ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/inet.org/honor/" class="" aria-label="è£èª‰"><!--[--><!--]--> è£èª‰ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/inet.org/surroundings/" class="" aria-label="ç¯å¢ƒ"><!--[--><!--]--> ç¯å¢ƒ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/inet.org/news/" class="" aria-label="æ–°é—»"><!--[--><!--]--> æ–°é—» <!--[--><!--]--></a></div><div class="navbar-item"><a href="/inet.org/activity/" class="" aria-label="æ´»åŠ¨"><!--[--><!--]--> æ´»åŠ¨ <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="åŠŸèƒ½"><span class="title">åŠŸèƒ½</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="åŠŸèƒ½"><span class="title">åŠŸèƒ½</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/inet.org/features/sign/" class="" aria-label="ç­¾åˆ°"><!--[--><!--]--> ç­¾åˆ° <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://jumper.elonehoo.xyz" rel="noopener noreferrer" target="_blank" aria-label="vue-jumper"><!--[--><!--]--> vue-jumper <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://hzpt-inet-club.github.io/english-note/" rel="noopener noreferrer" target="_blank" aria-label="è‹±è¯­è¯­æ³•ç¬”è®°"><!--[--><!--]--> è‹±è¯­è¯­æ³•ç¬”è®° <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://2048.elonehoo.xyz" rel="noopener noreferrer" target="_blank" aria-label="2048"><!--[--><!--]--> 2048 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a href="/inet.org/collect/" class="" aria-label="æ”¶è—"><!--[--><!--]--> æ”¶è— <!--[--><!--]--></a></div><div class="navbar-item"><a href="/inet.org/blog/" class="router-link-active" aria-label="åšå®¢"><!--[--><!--]--> åšå®¢ <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/inet.org/blog/introduce/introduce.md" class="sidebar-item sidebar-heading" aria-label="åšå®¢ä»‹ç»"><!--[--><!--]--> åšå®¢ä»‹ç» <!--[--><!--]--></a><!----></li><li><a href="/inet.org/blog/detail/TypeScript-course.md" class="sidebar-item sidebar-heading" aria-label="TypeScript"><!--[--><!--]--> TypeScript <!--[--><!--]--></a><!----></li><li><a href="/inet.org/blog/detail/Serializable.md" class="sidebar-item sidebar-heading" aria-label="Serializable"><!--[--><!--]--> Serializable <!--[--><!--]--></a><!----></li><li><a href="/inet.org/blog/detail/EasyPOI.md" class="sidebar-item sidebar-heading" aria-label="EasyPOI"><!--[--><!--]--> EasyPOI <!--[--><!--]--></a><!----></li><li><a href="/inet.org/blog/detail/Nginx.md" class="sidebar-item sidebar-heading" aria-label="Nginx"><!--[--><!--]--> Nginx <!--[--><!--]--></a><!----></li><li><a href="/inet.org/blog/detail/Docker.md" class="sidebar-item sidebar-heading" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a><!----></li><li><a href="/inet.org/blog/detail/VVT.md" class="sidebar-item sidebar-heading" aria-label="Vue.js+Vite.js+TypeScript"><!--[--><!--]--> Vue.js+Vite.js+TypeScript <!--[--><!--]--></a><!----></li><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">åŸºäºJavaçš„è®¾è®¡æ¨¡å¼ <span class="down arrow"></span></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/inet.org/blog/detail/design-patterns/README.md" class="sidebar-item" aria-label="ç›®å½•"><!--[--><!--]--> ç›®å½• <!--[--><!--]--></a><!----></li><li><a href="/inet.org/blog/detail/design-patterns/01.md" class="sidebar-item" aria-label="å·¥å‚æ¨¡å¼"><!--[--><!--]--> å·¥å‚æ¨¡å¼ <!--[--><!--]--></a><!----></li><li><a href="/inet.org/blog/detail/design-patterns/02.md" class="sidebar-item" aria-label="æŠ½è±¡å·¥å‚æ¨¡å¼"><!--[--><!--]--> æŠ½è±¡å·¥å‚æ¨¡å¼ <!--[--><!--]--></a><!----></li><li><a href="/inet.org/blog/detail/design-patterns/03.md" class="sidebar-item" aria-label="å»ºé€ è€…æ¨¡å¼"><!--[--><!--]--> å»ºé€ è€…æ¨¡å¼ <!--[--><!--]--></a><!----></li><li><a href="/inet.org/blog/detail/design-patterns/04.md" class="sidebar-item" aria-label="åŸå‹æ¨¡å¼"><!--[--><!--]--> åŸå‹æ¨¡å¼ <!--[--><!--]--></a><!----></li><li><a href="/inet.org/blog/detail/design-patterns/05.md" class="sidebar-item" aria-label="å•ä¾‹æ¨¡å¼"><!--[--><!--]--> å•ä¾‹æ¨¡å¼ <!--[--><!--]--></a><!----></li><li><a href="/inet.org/blog/detail/design-patterns/06.md" class="sidebar-item" aria-label="é€‚é…å™¨æ¨¡å¼"><!--[--><!--]--> é€‚é…å™¨æ¨¡å¼ <!--[--><!--]--></a><!----></li><li><a href="/inet.org/blog/detail/design-patterns/07.md" class="sidebar-item" aria-label="æ¡¥æ¥æ¨¡å¼"><!--[--><!--]--> æ¡¥æ¥æ¨¡å¼ <!--[--><!--]--></a><!----></li><li><a href="/inet.org/blog/detail/design-patterns/08.md" class="sidebar-item active" aria-label="ç»„åˆæ¨¡å¼"><!--[--><!--]--> ç»„åˆæ¨¡å¼ <!--[--><!--]--></a><!----></li><li><a href="/inet.org/blog/detail/design-patterns/09.md" class="sidebar-item" aria-label="è£…é¥°å™¨æ¨¡å¼"><!--[--><!--]--> è£…é¥°å™¨æ¨¡å¼ <!--[--><!--]--></a><!----></li><li><a href="/inet.org/blog/detail/design-patterns/10.md" class="sidebar-item" aria-label="å¤–è§‚æ¨¡å¼"><!--[--><!--]--> å¤–è§‚æ¨¡å¼ <!--[--><!--]--></a><!----></li><li><a href="/inet.org/blog/detail/design-patterns/11.md" class="sidebar-item" aria-label="äº«å…ƒæ¨¡å¼"><!--[--><!--]--> äº«å…ƒæ¨¡å¼ <!--[--><!--]--></a><!----></li><li><a href="/inet.org/blog/detail/design-patterns/12.md" class="sidebar-item" aria-label="ä»£ç†æ¨¡å¼"><!--[--><!--]--> ä»£ç†æ¨¡å¼ <!--[--><!--]--></a><!----></li><li><a href="/inet.org/blog/detail/design-patterns/13.md" class="sidebar-item" aria-label="è´£ä»»é“¾æ¨¡å¼"><!--[--><!--]--> è´£ä»»é“¾æ¨¡å¼ <!--[--><!--]--></a><!----></li><li><a href="/inet.org/blog/detail/design-patterns/14.md" class="sidebar-item" aria-label="å‘½ä»¤æ¨¡å¼"><!--[--><!--]--> å‘½ä»¤æ¨¡å¼ <!--[--><!--]--></a><!----></li><li><a href="/inet.org/blog/detail/design-patterns/15.md" class="sidebar-item" aria-label="è¿­ä»£å™¨æ¨¡å¼"><!--[--><!--]--> è¿­ä»£å™¨æ¨¡å¼ <!--[--><!--]--></a><!----></li><li><a href="/inet.org/blog/detail/design-patterns/16.md" class="sidebar-item" aria-label="ä¸­ä»‹è€…æ¨¡å¼"><!--[--><!--]--> ä¸­ä»‹è€…æ¨¡å¼ <!--[--><!--]--></a><!----></li><li><a href="/inet.org/blog/detail/design-patterns/17.md" class="sidebar-item" aria-label="å¤‡å¿˜å½•æ¨¡å¼"><!--[--><!--]--> å¤‡å¿˜å½•æ¨¡å¼ <!--[--><!--]--></a><!----></li><li><a href="/inet.org/blog/detail/design-patterns/18.md" class="sidebar-item" aria-label="è§‚å¯Ÿè€…æ¨¡å¼"><!--[--><!--]--> è§‚å¯Ÿè€…æ¨¡å¼ <!--[--><!--]--></a><!----></li><li><a href="/inet.org/blog/detail/design-patterns/19.md" class="sidebar-item" aria-label="çŠ¶æ€æ¨¡å¼"><!--[--><!--]--> çŠ¶æ€æ¨¡å¼ <!--[--><!--]--></a><!----></li><li><a href="/inet.org/blog/detail/design-patterns/20.md" class="sidebar-item" aria-label="ç­–ç•¥æ¨¡å¼"><!--[--><!--]--> ç­–ç•¥æ¨¡å¼ <!--[--><!--]--></a><!----></li><li><a href="/inet.org/blog/detail/design-patterns/21.md" class="sidebar-item" aria-label="æ¨¡æ¿æ¨¡å¼"><!--[--><!--]--> æ¨¡æ¿æ¨¡å¼ <!--[--><!--]--></a><!----></li><li><a href="/inet.org/blog/detail/design-patterns/22.md" class="sidebar-item" aria-label="è®¿é—®è€…æ¨¡å¼"><!--[--><!--]--> è®¿é—®è€…æ¨¡å¼ <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="è®¾è®¡æ¨¡å¼ç¬¬å…«èŠ‚" tabindex="-1"><a class="header-anchor" href="#è®¾è®¡æ¨¡å¼ç¬¬å…«èŠ‚" aria-hidden="true">#</a> è®¾è®¡æ¨¡å¼ç¬¬å…«èŠ‚</h1><h2 id="_1-ç»„åˆæ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_1-ç»„åˆæ¨¡å¼" aria-hidden="true">#</a> 1. ç»„åˆæ¨¡å¼</h2><h3 id="å¼•è¨€" tabindex="-1"><a class="header-anchor" href="#å¼•è¨€" aria-hidden="true">#</a> å¼•è¨€</h3><p>è€è¯è¯´å¾—å¥½ï¼šâ€œ<code>åªæœ‰å°å­©å­æ‰åšé€‰æ‹©é¢˜ï¼Œæˆå¹´äººå…¨éƒ½è¦ã€‚</code>â€</p><p>è®°å¾—ä¸€å¼€å§‹åˆšåˆšè¿›å…¥ITåœˆå­çš„æ—¶å€™ï¼Œä½œä¸ºå°ç™½çš„æˆ‘å‘åŒå­¦ä»¬æå‡ºé—®é¢˜ï¼šâ€œå°ç™½æœ€å¥½å­¦ä¹ ä»€ä¹ˆè¯­è¨€ï¼Ÿâ€ï¼Œç¾¤é‡Œéƒ½ä¼šâ€˜èŠçš„ç‰¹åˆ«ç«çƒ­â€™ï¼Œæœ‰äººæ”¯æŒPHPï¼Œæœ‰äººæ”¯æŒC++ï¼Œæœ‰äººæ”¯æŒJava.....ä½†æ˜¯åœ¨è¿™ä¸ªåœˆå­æ··ä¹…äº†ï¼Œå‘ç°æœ€è¿‘å¤§å®¶å¸¦ç€å†²çªå»è°ˆè®ºè¯­è¨€å’Œæ¨èè¯­è¨€çš„æ—¶å€™ï¼Œéƒ½ä¼šä»è–ªèµ„ï¼Œå’Œç¼ºç‚¹å‡ºå‘ã€‚ä¸å†æ˜¯ä»¥å‰é‚£èˆ¬å¸¦ç€ç«è¯å‘³çš„è®¨è®ºäº†ã€‚å½“ç„¶ï¼Œäºæ­¤åŒæ—¶åœ¨æ•´ä¸ªäº’è”ç½‘è¡Œä¸šçš„å¼€å‘è¿‡ç¨‹ä¸­å¾ˆå¤šæ—¶å€™éƒ½æ˜¯ä¸€äº›è¯­è¨€è¿›è¡Œå…¬ç”¨çš„ï¼Œä¸ºäº†æ‰“é€ æ•´ä½“çš„ç”Ÿæ€åœˆã€‚</p><p>å¾ˆå¤šäººåœ¨å†™äº†ä¸€æ®µæ—¶é—´çš„ä»£ç ä¹‹åï¼Œéƒ½ä¼šäº§ç”Ÿä¸€ç§æƒ³è¦ç‚«æŠ€çš„æƒ³æ³•ï¼Œè€Œå¤§ä½¬ä»¬æ€»æ˜¯å‘Šè¯‰å°ç™½ä»¬ï¼šâ€œ<code>ç¼–ç¨‹ä¸æ˜¯ç‚«æŠ€ã€‚</code>â€</p><p>æ€»æœ‰äººä¼šå–œæ¬¢åœ¨æ•´ä½“çš„é¡¹ç›®å¼€å‘ä¸­ä½¿ç”¨ä¸Šä¸€ç‚¹æ–°ç‰¹æ€§ï¼Œæˆ–è€…æŠŠè‡ªå·±å­¦çš„æ–°çŸ¥è¯†ç”¨åœ¨é¡¹ç›®é‡Œè¯•è¯•ï¼Œå¹¶ä¸æ˜¯è¯´è¿™æ ·å°±æ˜¯ä¸å¯¹çš„ã€å¥½çš„ï¼Œå› ä¸ºè¿™ä¸€éƒ¨åˆ†çš„åŒå­¦éƒ½æ˜¯éå¸¸çƒ­çˆ±å­¦ä¹ ï¼Œè®¤çœŸæ€è€ƒï¼ŒåŠªåŠ›è¿›æ­¥çš„åŒå­¦ï¼Œä½†æ˜¯åœ¨é¡¹ç›®ä¸­é™¤äº†ç”¨ä¸Šæ–°ç‰¹æ€§ï¼Œæ›´é‡è¦çš„æ˜¯éœ€è¦è€ƒè™‘æ•´ä½“çš„æ‰©å±•æ€§ã€å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§ã€æ˜“äºæ‰©å±•....è¿™äº›æ–¹é¢è€ƒè™‘ã€‚</p><p>æœ‰å¥æˆ‘ç‰¹åˆ«å–œæ¬¢çš„è¯ï¼šâ€œ<code>å³ä½¿æ˜¯CRUDï¼Œä¹Ÿéœ€è¦ä½¿ç”¨è®¾è®¡æ¨¡å¼ã€‚</code>â€</p><p>åœ¨æˆ‘ä»¬è¿›è¡Œå¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¤§éƒ¨åˆ†çš„éœ€æ±‚éƒ½æ˜¯é€šè¿‡CRUDæ¨å‡ºæ¥çš„ï¼Œä»Šå¤©ä¸€ä¸ªéœ€æ±‚<kbd>if</kbd>ä¸€ä¸‹ï¼Œæ˜å¤©ä¸€ä¸ªéœ€æ±‚<kbd>else if</kbd>ä¸€ä¸‹ï¼Œè¿™æ ·æ—¥ç§¯æœˆç´¯ï¼Œä»£ç å°±é€æ¸å˜å¾—éš¾ä»¥é˜…è¯»ï¼Œå¯¼è‡´æ‰©å±•å’Œç»´æŠ¤çš„æˆæœ¬è¶Šæ¥è¶Šé«˜ã€‚è€Œå¤§éƒ¨åˆ†çš„å¼€å‘è¿‡ç¨‹ä¸­æ˜¯ä¸ä¼šè€ƒè™‘äº§å“çš„æ€ç»´å’Œæ•´ä½“ä¸šåŠ¡çš„éœ€æ±‚å¯¼å‘ï¼Œç å†œåŒå­¦éƒ½ä»¥ä¸ºå†™å¥½éœ€æ±‚å°±å¯ä»¥å³å¯ã€‚ä¹Ÿæ­£æ˜¯å› ä¸ºä¸è€ƒè™‘æ‰©å±•æ€§çš„è€ƒè™‘ï¼Œå¾ˆéš¾è®©åç»­çš„éœ€æ±‚éƒ½å¿«é€Ÿè¿­ä»£ï¼Œä¹…è€Œä¹…ä¹‹å°±ä¼šè¢«é™·å…¥æ¶æ€§å¾ªç¯ï¼Œæ¯å¤©éƒ½æœ‰bugè¦æ”¹ã€‚</p><h3 id="ç»„åˆæ¨¡å¼ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#ç»„åˆæ¨¡å¼ä»‹ç»" aria-hidden="true">#</a> ç»„åˆæ¨¡å¼ä»‹ç»</h3><p><img src="https://i.im5i.com/2021/03/26/hMmiU.png" alt="hMmiU.png"></p><p>æˆ‘ä»¬å¯ä»¥å°†ä¸Šé¢çš„å›¾æƒ³è±¡æˆä¸ºèºä¸(ğŸ”©)å’Œèºæ¯ç»„æˆçš„æ ‘ï¼Œæ˜¯ç”±ä¸€å †çš„é“¾æ¥ç»„ç»‡å‡ºäº†ä¸€é¢—ç»“æ„æ ‘(ğŸŒ²)ã€‚è€Œè¿™ç§é€šè¿‡æŠŠç›¸ä¼¼å¯¹è±¡(<em>ä¹Ÿå¯ä»¥ç§°ä½œæ˜¯æ–¹æ³•</em>)ç»„åˆæˆä¸€ç»„å¯è¢«è°ƒç”¨çš„ç»“æ„æ ‘å¯¹è±¡çš„è®¾è®¡æ€è·¯å«åšç»„åˆæ¨¡å¼ã€‚</p><p>è¿™ç§è®¾è®¡æ–¹å¼å¯ä»¥è®©ä½ çš„æœåŠ¡ç»„èŠ‚ç‚¹è¿›è¡Œè‡ªç”±ç»„åˆå¯¹å¤–æä¾›æœåŠ¡ï¼Œä¾‹å¦‚ä½ æœ‰ä¸‰ä¸ªåŸå­æ ¡éªŒåŠŸèƒ½(<code>Aï¼šèº«ä»½è¯</code>ã€<code>Bï¼šé“¶è¡Œå¡</code>ã€<code>Cï¼šæ‰‹æœºå·</code>)æœåŠ¡å¹¶å¯¹å¤–æä¾›è°ƒç”¨ä½¿ç”¨ã€‚æœ‰äº›è°ƒç”¨æ–¹éœ€è¦ä½¿ç”¨ABç»„åˆï¼Œæœ‰äº›è°ƒç”¨æ–¹éœ€è¦ä½¿ç”¨åˆ°CBAç»„åˆï¼Œè¿˜æœ‰ä¸€äº›å¯èƒ½åªä½¿ç”¨ä¸‰è€…ä¸­çš„ä¸€ä¸ªã€‚é‚£ä¹ˆè¿™ä¸ªæ—¶å€™ä½ å°±å¯ä»¥ä½¿ç”¨ç»„åˆæ¨¡å¼è¿›è¡Œæ„å»ºæœåŠ¡ï¼Œå¯¹äºä¸åŒç±»å‹çš„è°ƒç”¨æ–¹é…ç½®ä¸åŒçš„ç»„ç»‡å…³ç³»æ ‘ï¼Œè€Œè¿™ä¸ªæ ‘ç»“æ„ä½ å¯ä»¥é…ç½®åˆ°æ•°æ®åº“ä¸­ä¹Ÿå¯ä»¥ä¸æ–­çš„é€šè¿‡å›¾å½¢ç•Œé¢æ¥æ§åˆ¶æ ‘ç»“æ„ã€‚</p><p>æ‰€ä»¥ä¸åŒçš„è®¾è®¡æ¨¡å¼ç”¨åœ¨æ°å½“å¥½å¤„çš„åœºæ™¯å¯ä»¥è®©ä»£ç é€»è¾‘éå¸¸æ¸…æ™°å¹¶æ˜“äºæ‰©å±•ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥å‡å°‘å›¢é˜Ÿæ–°å¢äººå‘˜å¯¹é¡¹ç›®çš„å­¦ä¹ æˆæœ¬ã€‚</p><h2 id="_2-é¡¹ç›®éœ€æ±‚" tabindex="-1"><a class="header-anchor" href="#_2-é¡¹ç›®éœ€æ±‚" aria-hidden="true">#</a> 2. é¡¹ç›®éœ€æ±‚</h2><p><img src="https://i.im5i.com/2021/03/26/hM8Qw.png" alt="hM8Qw.png"></p><p>ä»¥ä¸Šæ˜¯ä¸€ä¸ªéå¸¸ç®€åŒ–ç‰ˆçš„è¥é”€è§„åˆ™<code>å†³ç­–æ ‘</code>ï¼Œæ ¹æ®<code>æ€§åˆ«</code>ã€<code>å¹´é¾„</code>æ¥å‘æ”¾ä¸åŒç±»å‹çš„ä¼˜æƒ åˆ¸ï¼Œæ¥åˆºæ¿€æ¶ˆè´¹èµ·åˆ°ç²¾å‡†ç”¨æˆ·ä¿ƒæ´»çš„ç›®çš„ã€‚</p><p>è™½ç„¶ä¸€éƒ¨åˆ†å°ä¼™ä¼´å¯èƒ½å¹¶æ²¡æœ‰å¼€å‘è¿‡è¥é”€åœºæ™¯ï¼Œä½†ä½ å¯èƒ½æ—¶æ—¶åˆ»åˆ»çš„è¢«è¥é”€ç€ã€‚æ¯”å¦‚ä½ å»ç»å¸¸æµè§ˆç”·æ€§å–œæ¬¢çš„æœºæ¢°é”®ç›˜ã€ç¬”è®°æœ¬ç”µè„‘ã€æ±½è½¦è£…é¥°ç­‰ç­‰ï¼Œé‚£ä¹ˆä¹…ç»™ä½ æ¨èæ­¤ç±»çš„ä¼˜æƒ åˆ¸åˆºæ¿€ä½ æ¶ˆè´¹ã€‚é‚£ä¹ˆå¦‚æœä½ è´­ç‰©ä¸å¤šï¼Œæˆ–è€…é’±ä¸åœ¨è‡ªå·±æ‰‹é‡Œã€‚é‚£ä¹ˆä½ æ˜¯å¦æ‰“è¿‡è½¦ï¼Œæœ‰ä¸€æ®µæ—¶é—´ç»å¸¸æœ‰å°ä¼™ä¼´å–Šï¼Œä¸ºä»€ä¹ˆåŒæ ·çš„è·ç¦»ä»–å°±10å…ƒï¼Œæˆ‘å°±15å…ƒå‘¢ï¼Ÿå…¶å®è¿™äº›éƒ½æ˜¯è¢«è¥é”€çš„æ¡ˆä¾‹ï¼Œä¸€èˆ¬å¯¹äºä¸å¸¸ä½¿ç”¨è½¯ä»¶çš„å°ä¼™ä¼´ï¼Œç»å¸¸ä¼šè¿›è¡Œç¨å¾®å¤§åŠ›åº¦çš„ä¿ƒæ´»ï¼Œå¢åŠ ç”¨æˆ·ç²˜æ€§ã€‚</p><p>é‚£ä¹ˆåœ¨è¿™é‡Œæˆ‘ä»¬å°±æ¨¡æ‹Ÿä¸€ä¸ªç±»ä¼¼çš„å†³ç­–åœºæ™¯ï¼Œä½“ç°å‡ºç»„åˆæ¨¡å¼åœ¨å…¶ä¸­èµ·åˆ°çš„é‡è¦æ€§ã€‚å¦å¤–ï¼Œç»„åˆæ¨¡å¼ä¸åªæ˜¯å¯ä»¥è¿ç”¨äºè§„åˆ™å†³ç­–æ ‘ï¼Œè¿˜å¯ä»¥åšæœåŠ¡åŒ…è£…å°†ä¸åŒçš„æ¥å£è¿›è¡Œç»„åˆé…ç½®ï¼Œå¯¹å¤–æä¾›æœåŠ¡èƒ½åŠ›ï¼Œå‡å°‘å¼€å‘æˆæœ¬ã€‚</p><h2 id="_3-æ­£å¸¸è§£å†³æ–¹æ¡ˆ" tabindex="-1"><a class="header-anchor" href="#_3-æ­£å¸¸è§£å†³æ–¹æ¡ˆ" aria-hidden="true">#</a> 3. æ­£å¸¸è§£å†³æ–¹æ¡ˆ</h2><p><strong>é¡¹ç›®ç›®å½•</strong></p><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token list punctuation">-</span> hcy-design-mode-portfolio-model-8-01
  <span class="token list punctuation">-</span> src
    <span class="token list punctuation">-</span> main
      <span class="token list punctuation">-</span> java
        <span class="token list punctuation">-</span> com
          <span class="token list punctuation">-</span> hcy
            <span class="token list punctuation">-</span> controller
              <span class="token list punctuation">-</span> EngineController.java
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>ä»£ç </strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Logger</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">LoggerFactory</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * æ¨¡æ‹Ÿå‘æ”¾ä¼˜æƒ åˆ¸
 * <span class="token keyword">@author</span> HCY
 * <span class="token keyword">@since</span> 2021/3/26 ä¸Šåˆ8:44
*/</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EngineController</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">EngineController</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">String</span> userId<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">String</span> userSex<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token keyword">int</span> userAge<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;if...elseå®ç°æ–¹å¼åˆ¤æ–­ç”¨æˆ·ç»“æœã€‚userIdï¼š{} userSexï¼š{} userAgeï¼š{}&quot;</span><span class="token punctuation">,</span> userId<span class="token punctuation">,</span> userSex<span class="token punctuation">,</span> userAge<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;man&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>userSex<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>userAge <span class="token operator">&lt;</span> <span class="token number">25</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token string">&quot;æœå®A&quot;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>userAge <span class="token operator">&gt;=</span> <span class="token number">25</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token string">&quot;æœå®B&quot;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;woman&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>userSex<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>userAge <span class="token operator">&lt;</span> <span class="token number">25</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token string">&quot;æœå®C&quot;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>userAge <span class="token operator">&gt;=</span> <span class="token number">25</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token string">&quot;æœå®D&quot;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><p><strong>æµ‹è¯•</strong></p><p><em>ä»£ç </em></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>hcy<span class="token punctuation">.</span>controller<span class="token punctuation">.</span></span><span class="token class-name">EngineController</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Logger</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">LoggerFactory</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * Unit test for simple App.
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppTest</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">AppTest</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
     * Rigorous Test :-)
     */</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">shouldAnswerWithTrue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">EngineController</span> engineController <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EngineController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> process <span class="token operator">=</span> engineController<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span><span class="token string">&quot;10001&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;man&quot;</span><span class="token punctuation">,</span> <span class="token number">29</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;æµ‹è¯•ç»“æœï¼š{}&quot;</span><span class="token punctuation">,</span> process<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p><em>ç»“æœ</em></p><div class="language-config ext-config line-numbers-mode"><pre class="language-config"><code>08:48:47.010 [main] INFO  com.hcy.controller.EngineController - if...elseå®ç°æ–¹å¼åˆ¤æ–­ç”¨æˆ·ç»“æœã€‚userIdï¼š10001 userSexï¼šman userAgeï¼š29
08:48:47.018 [main] INFO  com.hcy.AppTest - æµ‹è¯•ç»“æœï¼šæœå®B
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_4-ç»„åˆæ¨¡å¼-é‡æ„ä»£ç " tabindex="-1"><a class="header-anchor" href="#_4-ç»„åˆæ¨¡å¼-é‡æ„ä»£ç " aria-hidden="true">#</a> 4. ç»„åˆæ¨¡å¼ é‡æ„ä»£ç </h2><p><img src="https://i.im5i.com/2021/03/26/hMAyZ.png" alt="hMAyZ.png"></p><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token list punctuation">-</span> é¦–å…ˆå¯ä»¥çœ‹ä¸‹é»‘è‰²æ¡†æ¡†çš„æ¨¡æ‹ŸæŒ‡å¯¼æ ‘ç»“æ„ï¼›1ã€11ã€12ã€111ã€112ã€121ã€122ï¼Œè¿™æ˜¯ä¸€ç»„æ ‘ç»“æ„çš„IDï¼Œå¹¶ç”±èŠ‚ç‚¹ä¸²è”ç»„åˆå‡ºä¸€æ£µå…³ç³»æ ‘æ ‘ã€‚

<span class="token list punctuation">-</span> æ¥ä¸‹æ¥æ˜¯ç±»å›¾éƒ¨åˆ†ï¼Œå·¦ä¾§æ˜¯ä»LogicFilterå¼€å§‹å®šä¹‰é€‚é…çš„å†³ç­–è¿‡æ»¤å™¨ï¼ŒBaseLogicæ˜¯å¯¹æ¥å£çš„å®ç°ï¼Œæä¾›æœ€åŸºæœ¬çš„é€šç”¨æ–¹æ³•ã€‚UserAgeFilterã€UserGenerFilterï¼Œæ˜¯ä¸¤ä¸ªå…·ä½“çš„å®ç°ç±»ç”¨äºåˆ¤æ–­å¹´é¾„å’Œæ€§åˆ«ã€‚
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>é¡¹ç›®ç›®å½•</strong></p><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token list punctuation">-</span> hcy-design-mode-portfolio-model-8-02
  <span class="token list punctuation">-</span> src
    <span class="token list punctuation">-</span> main
      <span class="token list punctuation">-</span> java
        <span class="token list punctuation">-</span> com
          <span class="token list punctuation">-</span> hcy
            <span class="token list punctuation">-</span> model
              <span class="token list punctuation">-</span> aggregates
                <span class="token list punctuation">-</span> TreeRich.java          ---&gt; è§„åˆ™æ ‘èšåˆ
              <span class="token list punctuation">-</span> vo
                <span class="token list punctuation">-</span> EngineResult.java      ---&gt; æ‰§è¡Œç»“æœ
                <span class="token list punctuation">-</span> TreeNode.java          ---&gt; è§„åˆ™æ ‘èŠ‚ç‚¹ä¿¡æ¯
                <span class="token list punctuation">-</span> TreeNodeLink.java      ---&gt; è§„åˆ™æ ‘çº¿ä¿¡æ¯
                <span class="token list punctuation">-</span> TreeRoot.java          ---&gt; æ ‘æ ¹ä¿¡æ¯
            <span class="token list punctuation">-</span> service
              <span class="token list punctuation">-</span> engine
                <span class="token list punctuation">-</span> impl
                  <span class="token list punctuation">-</span> TreeEngineHandle.java
                <span class="token list punctuation">-</span> EngineBase.java
                <span class="token list punctuation">-</span> EngineConfig.java
                <span class="token list punctuation">-</span> IEngine.java
              <span class="token list punctuation">-</span> logic
                <span class="token list punctuation">-</span> impl
                  <span class="token list punctuation">-</span> UserAgeFilter.java
                  <span class="token list punctuation">-</span> UserGenderFilter.java
                <span class="token list punctuation">-</span> BaseLogic.java
                <span class="token list punctuation">-</span> LogicFilter.java
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p><strong>ä»£ç </strong></p><p><em>æ ‘èŠ‚ç‚¹é€»è¾‘è¿‡æ»¤å™¨æ¥å£</em></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>hcy<span class="token punctuation">.</span>model<span class="token punctuation">.</span>vo<span class="token punctuation">.</span></span><span class="token class-name">TreeNodeLink</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * æ ‘èŠ‚ç‚¹é€»è¾‘è¿‡æ»¤å™¨æ¥å£
 * <span class="token keyword">@author</span> HCY
 * <span class="token keyword">@since</span> 2021/3/26 ä¸Šåˆ9:30
*/</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">LogicFilter</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * é€»è¾‘å†³ç­–å™¨
     *
     * <span class="token keyword">@param</span> <span class="token parameter">matterValue</span>          å†³ç­–å€¼
     * <span class="token keyword">@param</span> <span class="token parameter">treeNodeLineInfoList</span> å†³ç­–èŠ‚ç‚¹
     * <span class="token keyword">@return</span> ä¸‹ä¸€ä¸ªèŠ‚ç‚¹Id
     */</span>
    <span class="token class-name">Long</span> <span class="token function">filter</span><span class="token punctuation">(</span><span class="token class-name">String</span> matterValue<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TreeNodeLink</span><span class="token punctuation">&gt;</span></span> treeNodeLineInfoList<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * è·å–å†³ç­–å€¼
     *
     * <span class="token keyword">@param</span> <span class="token parameter">decisionMatter</span> å†³ç­–ç‰©æ–™
     * <span class="token keyword">@return</span> å†³ç­–å€¼
     */</span>
    <span class="token class-name">String</span> <span class="token function">matterValue</span><span class="token punctuation">(</span><span class="token class-name">Long</span> treeId<span class="token punctuation">,</span> <span class="token class-name">String</span> userId<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> decisionMatter<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p><em>å†³ç­–æŠ½è±¡ç±»æä¾›åŸºç¡€æœåŠ¡</em></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>hcy<span class="token punctuation">.</span>model<span class="token punctuation">.</span>vo<span class="token punctuation">.</span></span><span class="token class-name">TreeNodeLink</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * å†³ç­–æŠ½è±¡ç±»æä¾›åŸºç¡€æœåŠ¡
 * <span class="token keyword">@author</span> HCY
 * <span class="token keyword">@since</span> 2021/3/26 ä¸Šåˆ9:31
*/</span>
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">BaseLogic</span> <span class="token keyword">implements</span> <span class="token class-name">LogicFilter</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Long</span> <span class="token function">filter</span><span class="token punctuation">(</span><span class="token class-name">String</span> matterValue<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TreeNodeLink</span><span class="token punctuation">&gt;</span></span> treeNodeLinkList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">TreeNodeLink</span> nodeLine <span class="token operator">:</span> treeNodeLinkList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">decisionLogic</span><span class="token punctuation">(</span>matterValue<span class="token punctuation">,</span> nodeLine<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> nodeLine<span class="token punctuation">.</span><span class="token function">getNodeIdTo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token number">0L</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">String</span> <span class="token function">matterValue</span><span class="token punctuation">(</span><span class="token class-name">Long</span> treeId<span class="token punctuation">,</span> <span class="token class-name">String</span> userId<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> decisionMatter<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">boolean</span> <span class="token function">decisionLogic</span><span class="token punctuation">(</span><span class="token class-name">String</span> matterValue<span class="token punctuation">,</span> <span class="token class-name">TreeNodeLink</span> nodeLink<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>nodeLink<span class="token punctuation">.</span><span class="token function">getRuleLimitType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
                <span class="token keyword">return</span> matterValue<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>nodeLink<span class="token punctuation">.</span><span class="token function">getRuleLimitValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
                <span class="token keyword">return</span> <span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token function">parseDouble</span><span class="token punctuation">(</span>matterValue<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token function">parseDouble</span><span class="token punctuation">(</span>nodeLink<span class="token punctuation">.</span><span class="token function">getRuleLimitValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span>
                <span class="token keyword">return</span> <span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token function">parseDouble</span><span class="token punctuation">(</span>matterValue<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token function">parseDouble</span><span class="token punctuation">(</span>nodeLink<span class="token punctuation">.</span><span class="token function">getRuleLimitValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">4</span><span class="token operator">:</span>
                <span class="token keyword">return</span> <span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token function">parseDouble</span><span class="token punctuation">(</span>matterValue<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token function">parseDouble</span><span class="token punctuation">(</span>nodeLink<span class="token punctuation">.</span><span class="token function">getRuleLimitValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">5</span><span class="token operator">:</span>
                <span class="token keyword">return</span> <span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token function">parseDouble</span><span class="token punctuation">(</span>matterValue<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token function">parseDouble</span><span class="token punctuation">(</span>nodeLink<span class="token punctuation">.</span><span class="token function">getRuleLimitValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">default</span><span class="token operator">:</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><p><em>å†³ç­–å¼•æ“æ¥å£å®šä¹‰</em></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>hcy<span class="token punctuation">.</span>model<span class="token punctuation">.</span>aggregates<span class="token punctuation">.</span></span><span class="token class-name">TreeRich</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>hcy<span class="token punctuation">.</span>model<span class="token punctuation">.</span>vo<span class="token punctuation">.</span></span><span class="token class-name">EngineResult</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * å†³ç­–å¼•æ“æ¥å£å®šä¹‰
 * <span class="token keyword">@author</span> HCY
 * <span class="token keyword">@since</span> 2021/3/26 ä¸Šåˆ9:37
*/</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IEngine</span> <span class="token punctuation">{</span>

    <span class="token class-name">EngineResult</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Long</span> treeId<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">String</span> userId<span class="token punctuation">,</span> <span class="token class-name">TreeRich</span> treeRich<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> decisionMatter<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><em>å†³ç­–èŠ‚ç‚¹é…ç½®</em></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>hcy<span class="token punctuation">.</span>service<span class="token punctuation">.</span>logic<span class="token punctuation">.</span></span><span class="token class-name">LogicFilter</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>hcy<span class="token punctuation">.</span>service<span class="token punctuation">.</span>logic<span class="token punctuation">.</span>impl<span class="token punctuation">.</span></span><span class="token class-name">UserAgeFilter</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>hcy<span class="token punctuation">.</span>service<span class="token punctuation">.</span>logic<span class="token punctuation">.</span>impl<span class="token punctuation">.</span></span><span class="token class-name">UserGenderFilter</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">ConcurrentHashMap</span><span class="token punctuation">;</span>


<span class="token doc-comment comment">/**
 * å†³ç­–èŠ‚ç‚¹é…ç½®
 * <span class="token keyword">@author</span> HCY
 * <span class="token keyword">@since</span> 2021/3/26 ä¸Šåˆ9:37
*/</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EngineConfig</span> <span class="token punctuation">{</span>

    <span class="token keyword">static</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">LogicFilter</span><span class="token punctuation">&gt;</span></span> logicFilterMap<span class="token punctuation">;</span>

    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        logicFilterMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcurrentHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logicFilterMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;userAge&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">UserAgeFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logicFilterMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;userGender&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">UserGenderFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">LogicFilter</span><span class="token punctuation">&gt;</span></span> <span class="token function">getLogicFilterMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> logicFilterMap<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setLogicFilterMap</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">LogicFilter</span><span class="token punctuation">&gt;</span></span> logicFilterMap<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">EngineConfig</span><span class="token punctuation">.</span>logicFilterMap <span class="token operator">=</span> logicFilterMap<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p><em>åŸºç¡€å†³ç­–å¼•æ“åŠŸèƒ½</em></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>hcy<span class="token punctuation">.</span>model<span class="token punctuation">.</span>aggregates<span class="token punctuation">.</span></span><span class="token class-name">TreeRich</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>hcy<span class="token punctuation">.</span>model<span class="token punctuation">.</span>vo<span class="token punctuation">.</span></span><span class="token class-name">EngineResult</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>hcy<span class="token punctuation">.</span>model<span class="token punctuation">.</span>vo<span class="token punctuation">.</span></span><span class="token class-name">TreeNode</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>hcy<span class="token punctuation">.</span>model<span class="token punctuation">.</span>vo<span class="token punctuation">.</span></span><span class="token class-name">TreeRoot</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>hcy<span class="token punctuation">.</span>service<span class="token punctuation">.</span>logic<span class="token punctuation">.</span></span><span class="token class-name">LogicFilter</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Logger</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">LoggerFactory</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * åŸºç¡€å†³ç­–å¼•æ“åŠŸèƒ½
 * <span class="token keyword">@author</span> HCY
 * <span class="token keyword">@since</span> 2021/3/26 ä¸Šåˆ9:38
*/</span>
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">EngineBase</span> <span class="token keyword">extends</span> <span class="token class-name">EngineConfig</span> <span class="token keyword">implements</span> <span class="token class-name">IEngine</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">EngineBase</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">EngineResult</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token class-name">Long</span> treeId<span class="token punctuation">,</span> <span class="token class-name">String</span> userId<span class="token punctuation">,</span> <span class="token class-name">TreeRich</span> treeRich<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> decisionMatter<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token class-name">TreeNode</span> <span class="token function">engineDecisionMaker</span><span class="token punctuation">(</span><span class="token class-name">TreeRich</span> treeRich<span class="token punctuation">,</span> <span class="token class-name">Long</span> treeId<span class="token punctuation">,</span> <span class="token class-name">String</span> userId<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> decisionMatter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">TreeRoot</span> treeRoot <span class="token operator">=</span> treeRich<span class="token punctuation">.</span><span class="token function">getTreeRoot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">,</span> <span class="token class-name">TreeNode</span><span class="token punctuation">&gt;</span></span> treeNodeMap <span class="token operator">=</span> treeRich<span class="token punctuation">.</span><span class="token function">getTreeNodeMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è§„åˆ™æ ‘æ ¹ID</span>
        <span class="token class-name">Long</span> rootNodeId <span class="token operator">=</span> treeRoot<span class="token punctuation">.</span><span class="token function">getTreeRootNodeId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">TreeNode</span> treeNodeInfo <span class="token operator">=</span> treeNodeMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>rootNodeId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//èŠ‚ç‚¹ç±»å‹[NodeType]ï¼›1å­å¶ã€2æœå®</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>treeNodeInfo<span class="token punctuation">.</span><span class="token function">getNodeType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">String</span> ruleKey <span class="token operator">=</span> treeNodeInfo<span class="token punctuation">.</span><span class="token function">getRuleKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">LogicFilter</span> logicFilter <span class="token operator">=</span> logicFilterMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>ruleKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> matterValue <span class="token operator">=</span> logicFilter<span class="token punctuation">.</span><span class="token function">matterValue</span><span class="token punctuation">(</span>treeId<span class="token punctuation">,</span> userId<span class="token punctuation">,</span> decisionMatter<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Long</span> nextNode <span class="token operator">=</span> logicFilter<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>matterValue<span class="token punctuation">,</span> treeNodeInfo<span class="token punctuation">.</span><span class="token function">getTreeNodeLinkList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            treeNodeInfo <span class="token operator">=</span> treeNodeMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>nextNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
            logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;å†³ç­–æ ‘å¼•æ“=&gt;{} userIdï¼š{} treeIdï¼š{} treeNodeï¼š{} ruleKeyï¼š{} matterValueï¼š{}&quot;</span><span class="token punctuation">,</span> treeRoot<span class="token punctuation">.</span><span class="token function">getTreeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> userId<span class="token punctuation">,</span> treeId<span class="token punctuation">,</span> treeNodeInfo<span class="token punctuation">.</span><span class="token function">getTreeNodeId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ruleKey<span class="token punctuation">,</span> matterValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> treeNodeInfo<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><p><em>å†³ç­–å¼•æ“çš„å®ç°</em></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>hcy<span class="token punctuation">.</span>model<span class="token punctuation">.</span>aggregates<span class="token punctuation">.</span></span><span class="token class-name">TreeRich</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>hcy<span class="token punctuation">.</span>model<span class="token punctuation">.</span>vo<span class="token punctuation">.</span></span><span class="token class-name">EngineResult</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>hcy<span class="token punctuation">.</span>model<span class="token punctuation">.</span>vo<span class="token punctuation">.</span></span><span class="token class-name">TreeNode</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>hcy<span class="token punctuation">.</span>service<span class="token punctuation">.</span>engine<span class="token punctuation">.</span></span><span class="token class-name">EngineBase</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * å†³ç­–å¼•æ“çš„å®ç°
 * <span class="token keyword">@author</span> HCY
 * <span class="token keyword">@since</span> 2021/3/26 ä¸Šåˆ9:39
*/</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TreeEngineHandle</span> <span class="token keyword">extends</span> <span class="token class-name">EngineBase</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">EngineResult</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token class-name">Long</span> treeId<span class="token punctuation">,</span> <span class="token class-name">String</span> userId<span class="token punctuation">,</span> <span class="token class-name">TreeRich</span> treeRich<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> decisionMatter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// å†³ç­–æµç¨‹</span>
        <span class="token class-name">TreeNode</span> treeNode <span class="token operator">=</span> <span class="token function">engineDecisionMaker</span><span class="token punctuation">(</span>treeRich<span class="token punctuation">,</span> treeId<span class="token punctuation">,</span> userId<span class="token punctuation">,</span> decisionMatter<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// å†³ç­–ç»“æœ</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">EngineResult</span><span class="token punctuation">(</span>userId<span class="token punctuation">,</span> treeId<span class="token punctuation">,</span> treeNode<span class="token punctuation">.</span><span class="token function">getTreeNodeId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> treeNode<span class="token punctuation">.</span><span class="token function">getNodeValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p><strong>æµ‹è¯•éªŒè¯</strong></p><p><em>ä»£ç </em></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>hcy</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Assert</span><span class="token punctuation">.</span>assertTrue<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span>JSON<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>hcy<span class="token punctuation">.</span>model<span class="token punctuation">.</span>aggregates<span class="token punctuation">.</span></span><span class="token class-name">TreeRich</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>hcy<span class="token punctuation">.</span>model<span class="token punctuation">.</span>vo<span class="token punctuation">.</span></span><span class="token class-name">EngineResult</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>hcy<span class="token punctuation">.</span>model<span class="token punctuation">.</span>vo<span class="token punctuation">.</span></span><span class="token class-name">TreeNode</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>hcy<span class="token punctuation">.</span>model<span class="token punctuation">.</span>vo<span class="token punctuation">.</span></span><span class="token class-name">TreeNodeLink</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>hcy<span class="token punctuation">.</span>model<span class="token punctuation">.</span>vo<span class="token punctuation">.</span></span><span class="token class-name">TreeRoot</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>hcy<span class="token punctuation">.</span>service<span class="token punctuation">.</span>engine<span class="token punctuation">.</span></span><span class="token class-name">IEngine</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>hcy<span class="token punctuation">.</span>service<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>impl<span class="token punctuation">.</span></span><span class="token class-name">TreeEngineHandle</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Before</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Logger</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">LoggerFactory</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * Unit test for simple App.
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">AppTest</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">TreeRich</span> treeRich<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Before</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// èŠ‚ç‚¹ï¼š1</span>
        <span class="token class-name">TreeNode</span> treeNode_01 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_01<span class="token punctuation">.</span><span class="token function">setTreeId</span><span class="token punctuation">(</span><span class="token number">10001L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_01<span class="token punctuation">.</span><span class="token function">setTreeNodeId</span><span class="token punctuation">(</span><span class="token number">1L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_01<span class="token punctuation">.</span><span class="token function">setNodeType</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_01<span class="token punctuation">.</span><span class="token function">setNodeValue</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_01<span class="token punctuation">.</span><span class="token function">setRuleKey</span><span class="token punctuation">(</span><span class="token string">&quot;userGender&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_01<span class="token punctuation">.</span><span class="token function">setRuleDesc</span><span class="token punctuation">(</span><span class="token string">&quot;ç”¨æˆ·æ€§åˆ«[ç”·/å¥³]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// é“¾æ¥ï¼š1-&gt;11</span>
        <span class="token class-name">TreeNodeLink</span> treeNodeLink_11 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeNodeLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeLink_11<span class="token punctuation">.</span><span class="token function">setNodeIdFrom</span><span class="token punctuation">(</span><span class="token number">1L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeLink_11<span class="token punctuation">.</span><span class="token function">setNodeIdTo</span><span class="token punctuation">(</span><span class="token number">11L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeLink_11<span class="token punctuation">.</span><span class="token function">setRuleLimitType</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeLink_11<span class="token punctuation">.</span><span class="token function">setRuleLimitValue</span><span class="token punctuation">(</span><span class="token string">&quot;man&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// é“¾æ¥ï¼š1-&gt;12</span>
        <span class="token class-name">TreeNodeLink</span> treeNodeLink_12 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeNodeLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeLink_12<span class="token punctuation">.</span><span class="token function">setNodeIdTo</span><span class="token punctuation">(</span><span class="token number">1L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeLink_12<span class="token punctuation">.</span><span class="token function">setNodeIdTo</span><span class="token punctuation">(</span><span class="token number">12L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeLink_12<span class="token punctuation">.</span><span class="token function">setRuleLimitType</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeLink_12<span class="token punctuation">.</span><span class="token function">setRuleLimitValue</span><span class="token punctuation">(</span><span class="token string">&quot;woman&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TreeNodeLink</span><span class="token punctuation">&gt;</span></span> treeNodeLinkList_1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeLinkList_1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>treeNodeLink_11<span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeLinkList_1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>treeNodeLink_12<span class="token punctuation">)</span><span class="token punctuation">;</span>

        treeNode_01<span class="token punctuation">.</span><span class="token function">setTreeNodeLinkList</span><span class="token punctuation">(</span>treeNodeLinkList_1<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// èŠ‚ç‚¹ï¼š11</span>
        <span class="token class-name">TreeNode</span> treeNode_11 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_11<span class="token punctuation">.</span><span class="token function">setTreeId</span><span class="token punctuation">(</span><span class="token number">10001L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_11<span class="token punctuation">.</span><span class="token function">setTreeNodeId</span><span class="token punctuation">(</span><span class="token number">11L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_11<span class="token punctuation">.</span><span class="token function">setNodeType</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_11<span class="token punctuation">.</span><span class="token function">setNodeValue</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_11<span class="token punctuation">.</span><span class="token function">setRuleKey</span><span class="token punctuation">(</span><span class="token string">&quot;userAge&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_11<span class="token punctuation">.</span><span class="token function">setRuleDesc</span><span class="token punctuation">(</span><span class="token string">&quot;ç”¨æˆ·å¹´é¾„&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// é“¾æ¥ï¼š11-&gt;111</span>
        <span class="token class-name">TreeNodeLink</span> treeNodeLink_111 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeNodeLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeLink_111<span class="token punctuation">.</span><span class="token function">setNodeIdFrom</span><span class="token punctuation">(</span><span class="token number">11L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeLink_111<span class="token punctuation">.</span><span class="token function">setNodeIdTo</span><span class="token punctuation">(</span><span class="token number">111L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeLink_111<span class="token punctuation">.</span><span class="token function">setRuleLimitType</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeLink_111<span class="token punctuation">.</span><span class="token function">setRuleLimitValue</span><span class="token punctuation">(</span><span class="token string">&quot;25&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// é“¾æ¥ï¼š11-&gt;112</span>
        <span class="token class-name">TreeNodeLink</span> treeNodeLink_112 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeNodeLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeLink_112<span class="token punctuation">.</span><span class="token function">setNodeIdFrom</span><span class="token punctuation">(</span><span class="token number">11L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeLink_112<span class="token punctuation">.</span><span class="token function">setNodeIdTo</span><span class="token punctuation">(</span><span class="token number">112L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeLink_112<span class="token punctuation">.</span><span class="token function">setRuleLimitType</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeLink_112<span class="token punctuation">.</span><span class="token function">setRuleLimitValue</span><span class="token punctuation">(</span><span class="token string">&quot;25&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TreeNodeLink</span><span class="token punctuation">&gt;</span></span> treeNodeLinkList_11 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeLinkList_11<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>treeNodeLink_111<span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeLinkList_11<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>treeNodeLink_112<span class="token punctuation">)</span><span class="token punctuation">;</span>

        treeNode_11<span class="token punctuation">.</span><span class="token function">setTreeNodeLinkList</span><span class="token punctuation">(</span>treeNodeLinkList_11<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// èŠ‚ç‚¹ï¼š12</span>
        <span class="token class-name">TreeNode</span> treeNode_12 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_12<span class="token punctuation">.</span><span class="token function">setTreeId</span><span class="token punctuation">(</span><span class="token number">10001L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_12<span class="token punctuation">.</span><span class="token function">setTreeNodeId</span><span class="token punctuation">(</span><span class="token number">12L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_12<span class="token punctuation">.</span><span class="token function">setNodeType</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_12<span class="token punctuation">.</span><span class="token function">setNodeValue</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_12<span class="token punctuation">.</span><span class="token function">setRuleKey</span><span class="token punctuation">(</span><span class="token string">&quot;userAge&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_12<span class="token punctuation">.</span><span class="token function">setRuleDesc</span><span class="token punctuation">(</span><span class="token string">&quot;ç”¨æˆ·å¹´é¾„&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// é“¾æ¥ï¼š12-&gt;121</span>
        <span class="token class-name">TreeNodeLink</span> treeNodeLink_121 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeNodeLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeLink_121<span class="token punctuation">.</span><span class="token function">setNodeIdFrom</span><span class="token punctuation">(</span><span class="token number">12L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeLink_121<span class="token punctuation">.</span><span class="token function">setNodeIdTo</span><span class="token punctuation">(</span><span class="token number">121L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeLink_121<span class="token punctuation">.</span><span class="token function">setRuleLimitType</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeLink_121<span class="token punctuation">.</span><span class="token function">setRuleLimitValue</span><span class="token punctuation">(</span><span class="token string">&quot;25&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// é“¾æ¥ï¼š12-&gt;122</span>
        <span class="token class-name">TreeNodeLink</span> treeNodeLink_122 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeNodeLink</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeLink_122<span class="token punctuation">.</span><span class="token function">setNodeIdFrom</span><span class="token punctuation">(</span><span class="token number">12L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeLink_122<span class="token punctuation">.</span><span class="token function">setNodeIdTo</span><span class="token punctuation">(</span><span class="token number">122L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeLink_122<span class="token punctuation">.</span><span class="token function">setRuleLimitType</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeLink_122<span class="token punctuation">.</span><span class="token function">setRuleLimitValue</span><span class="token punctuation">(</span><span class="token string">&quot;25&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TreeNodeLink</span><span class="token punctuation">&gt;</span></span> treeNodeLinkList_12 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeLinkList_12<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>treeNodeLink_121<span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeLinkList_12<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>treeNodeLink_122<span class="token punctuation">)</span><span class="token punctuation">;</span>

        treeNode_12<span class="token punctuation">.</span><span class="token function">setTreeNodeLinkList</span><span class="token punctuation">(</span>treeNodeLinkList_12<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// èŠ‚ç‚¹ï¼š111</span>
        <span class="token class-name">TreeNode</span> treeNode_111 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_111<span class="token punctuation">.</span><span class="token function">setTreeId</span><span class="token punctuation">(</span><span class="token number">10001L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_111<span class="token punctuation">.</span><span class="token function">setTreeNodeId</span><span class="token punctuation">(</span><span class="token number">111L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_111<span class="token punctuation">.</span><span class="token function">setNodeType</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_111<span class="token punctuation">.</span><span class="token function">setNodeValue</span><span class="token punctuation">(</span><span class="token string">&quot;æœå®A&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// èŠ‚ç‚¹ï¼š112</span>
        <span class="token class-name">TreeNode</span> treeNode_112 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_112<span class="token punctuation">.</span><span class="token function">setTreeId</span><span class="token punctuation">(</span><span class="token number">10001L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_112<span class="token punctuation">.</span><span class="token function">setTreeNodeId</span><span class="token punctuation">(</span><span class="token number">112L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_112<span class="token punctuation">.</span><span class="token function">setNodeType</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_112<span class="token punctuation">.</span><span class="token function">setNodeValue</span><span class="token punctuation">(</span><span class="token string">&quot;æœå®B&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// èŠ‚ç‚¹ï¼š121</span>
        <span class="token class-name">TreeNode</span> treeNode_121 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_121<span class="token punctuation">.</span><span class="token function">setTreeId</span><span class="token punctuation">(</span><span class="token number">10001L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_121<span class="token punctuation">.</span><span class="token function">setTreeNodeId</span><span class="token punctuation">(</span><span class="token number">121L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_121<span class="token punctuation">.</span><span class="token function">setNodeType</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_121<span class="token punctuation">.</span><span class="token function">setNodeValue</span><span class="token punctuation">(</span><span class="token string">&quot;æœå®C&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// èŠ‚ç‚¹ï¼š122</span>
        <span class="token class-name">TreeNode</span> treeNode_122 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_122<span class="token punctuation">.</span><span class="token function">setTreeId</span><span class="token punctuation">(</span><span class="token number">10001L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_122<span class="token punctuation">.</span><span class="token function">setTreeNodeId</span><span class="token punctuation">(</span><span class="token number">122L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_122<span class="token punctuation">.</span><span class="token function">setNodeType</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNode_122<span class="token punctuation">.</span><span class="token function">setNodeValue</span><span class="token punctuation">(</span><span class="token string">&quot;æœå®D&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// æ ‘æ ¹</span>
        <span class="token class-name">TreeRoot</span> treeRoot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeRoot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeRoot<span class="token punctuation">.</span><span class="token function">setTreeId</span><span class="token punctuation">(</span><span class="token number">10001L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeRoot<span class="token punctuation">.</span><span class="token function">setTreeRootNodeId</span><span class="token punctuation">(</span><span class="token number">1L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeRoot<span class="token punctuation">.</span><span class="token function">setTreeName</span><span class="token punctuation">(</span><span class="token string">&quot;è§„åˆ™å†³ç­–æ ‘&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">,</span> <span class="token class-name">TreeNode</span><span class="token punctuation">&gt;</span></span> treeNodeMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">1L</span><span class="token punctuation">,</span> treeNode_01<span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">11L</span><span class="token punctuation">,</span> treeNode_11<span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">12L</span><span class="token punctuation">,</span> treeNode_12<span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">111L</span><span class="token punctuation">,</span> treeNode_111<span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">112L</span><span class="token punctuation">,</span> treeNode_112<span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">121L</span><span class="token punctuation">,</span> treeNode_121<span class="token punctuation">)</span><span class="token punctuation">;</span>
        treeNodeMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">122L</span><span class="token punctuation">,</span> treeNode_122<span class="token punctuation">)</span><span class="token punctuation">;</span>

        treeRich <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeRich</span><span class="token punctuation">(</span>treeRoot<span class="token punctuation">,</span> treeNodeMap<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_tree</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;å†³ç­–æ ‘ç»„åˆç»“æ„ä¿¡æ¯ï¼š\r\n&quot;</span> <span class="token operator">+</span> JSON<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>treeRich<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">IEngine</span> treeEngineHandle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeEngineHandle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> decisionMatter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        decisionMatter<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;gender&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;man&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        decisionMatter<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;29&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">EngineResult</span> result <span class="token operator">=</span> treeEngineHandle<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span><span class="token number">10001L</span><span class="token punctuation">,</span> <span class="token string">&quot;Oli09pLkdjh&quot;</span><span class="token punctuation">,</span> treeRich<span class="token punctuation">,</span> decisionMatter<span class="token punctuation">)</span><span class="token punctuation">;</span>
        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;æµ‹è¯•ç»“æœï¼š{}&quot;</span><span class="token punctuation">,</span> JSON<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br></div></div><p><em>éªŒè¯</em></p><div class="language-config ext-config line-numbers-mode"><pre class="language-config"><code>09:40:10.229 [main] INFO  com.hcy.AppTest - å†³ç­–æ ‘ç»„åˆç»“æ„ä¿¡æ¯ï¼š
{&quot;treeNodeMap&quot;:{112:{&quot;nodeType&quot;:2,&quot;nodeValue&quot;:&quot;æœå®B&quot;,&quot;treeId&quot;:10001,&quot;treeNodeId&quot;:112},1:{&quot;nodeType&quot;:1,&quot;ruleDesc&quot;:&quot;ç”¨æˆ·æ€§åˆ«[ç”·/å¥³]&quot;,&quot;ruleKey&quot;:&quot;userGender&quot;,&quot;treeId&quot;:10001,&quot;treeNodeId&quot;:1,&quot;treeNodeLinkList&quot;:[{&quot;nodeIdFrom&quot;:1,&quot;nodeIdTo&quot;:11,&quot;ruleLimitType&quot;:1,&quot;ruleLimitValue&quot;:&quot;man&quot;},{&quot;nodeIdTo&quot;:12,&quot;ruleLimitType&quot;:1,&quot;ruleLimitValue&quot;:&quot;woman&quot;}]},121:{&quot;nodeType&quot;:2,&quot;nodeValue&quot;:&quot;æœå®C&quot;,&quot;treeId&quot;:10001,&quot;treeNodeId&quot;:121},122:{&quot;nodeType&quot;:2,&quot;nodeValue&quot;:&quot;æœå®D&quot;,&quot;treeId&quot;:10001,&quot;treeNodeId&quot;:122},11:{&quot;nodeType&quot;:1,&quot;ruleDesc&quot;:&quot;ç”¨æˆ·å¹´é¾„&quot;,&quot;ruleKey&quot;:&quot;userAge&quot;,&quot;treeId&quot;:10001,&quot;treeNodeId&quot;:11,&quot;treeNodeLinkList&quot;:[{&quot;nodeIdFrom&quot;:11,&quot;nodeIdTo&quot;:111,&quot;ruleLimitType&quot;:3,&quot;ruleLimitValue&quot;:&quot;25&quot;},{&quot;nodeIdFrom&quot;:11,&quot;nodeIdTo&quot;:112,&quot;ruleLimitType&quot;:5,&quot;ruleLimitValue&quot;:&quot;25&quot;}]},12:{&quot;nodeType&quot;:1,&quot;ruleDesc&quot;:&quot;ç”¨æˆ·å¹´é¾„&quot;,&quot;ruleKey&quot;:&quot;userAge&quot;,&quot;treeId&quot;:10001,&quot;treeNodeId&quot;:12,&quot;treeNodeLinkList&quot;:[{&quot;nodeIdFrom&quot;:12,&quot;nodeIdTo&quot;:121,&quot;ruleLimitType&quot;:3,&quot;ruleLimitValue&quot;:&quot;25&quot;},{&quot;nodeIdFrom&quot;:12,&quot;nodeIdTo&quot;:122,&quot;ruleLimitType&quot;:5,&quot;ruleLimitValue&quot;:&quot;25&quot;}]},111:{&quot;nodeType&quot;:2,&quot;nodeValue&quot;:&quot;æœå®A&quot;,&quot;treeId&quot;:10001,&quot;treeNodeId&quot;:111}},&quot;treeRoot&quot;:{&quot;treeId&quot;:10001,&quot;treeName&quot;:&quot;è§„åˆ™å†³ç­–æ ‘&quot;,&quot;treeRootNodeId&quot;:1}}
09:40:10.247 [main] INFO  com.hcy.service.engine.EngineBase - å†³ç­–æ ‘å¼•æ“=&gt;è§„åˆ™å†³ç­–æ ‘ userIdï¼š10000001 treeIdï¼š10001 treeNodeï¼š11 ruleKeyï¼šuserGender matterValueï¼šman
09:40:10.248 [main] INFO  com.hcy.service.engine.EngineBase - å†³ç­–æ ‘å¼•æ“=&gt;è§„åˆ™å†³ç­–æ ‘ userIdï¼š10000001 treeIdï¼š10001 treeNodeï¼š112 ruleKeyï¼šuserAge matterValueï¼š29
09:40:10.254 [main] INFO  com.hcy.AppTest - æµ‹è¯•ç»“æœï¼š{&quot;nodeId&quot;:112,&quot;nodeValue&quot;:&quot;æœå®B&quot;,&quot;success&quot;:true,&quot;treeId&quot;:10001,&quot;userId&quot;:&quot;10000001&quot;}
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_5-çŸ¥è¯†ç‚¹" tabindex="-1"><a class="header-anchor" href="#_5-çŸ¥è¯†ç‚¹" aria-hidden="true">#</a> 5. çŸ¥è¯†ç‚¹</h2><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token list punctuation">-</span> ğŸ“„ä»ä»¥ä¸Šçš„å†³ç­–æ ‘åœºæ™¯æ¥çœ‹ï¼Œç»„åˆæ¨¡å¼çš„ä¸»è¦è§£å†³çš„æ˜¯ä¸€ç³»åˆ—ç®€å•é€»è¾‘èŠ‚ç‚¹æˆ–è€…æ‰©å±•çš„å¤æ‚é€»è¾‘èŠ‚ç‚¹åœ¨ä¸åŒç»“æ„çš„ç»„ç»‡ä¸‹ï¼Œå¯¹äºå¤–éƒ¨çš„è°ƒç”¨æ˜¯ä»ç„¶å¯ä»¥éå¸¸ç®€å•çš„ã€‚

<span class="token list punctuation">-</span> ğŸ“„è¿™éƒ¨åˆ†è®¾è®¡æ¨¡å¼ä¿è¯äº†å¼€é—­åŸåˆ™ï¼Œæ— éœ€æ›´æ”¹æ¨¡å‹ç»“æ„ä½ å°±å¯ä»¥æä¾›æ–°çš„é€»è¾‘èŠ‚ç‚¹çš„ä½¿ç”¨å¹¶é…åˆç»„ç»‡å‡ºæ–°çš„å…³ç³»æ ‘ã€‚ä½†å¦‚æœæ˜¯ä¸€äº›åŠŸèƒ½å·®å¼‚åŒ–éå¸¸å¤§çš„æ¥å£è¿›è¡ŒåŒ…è£…å°±ä¼šå˜å¾—æ¯”è¾ƒå›°éš¾ï¼Œä½†ä¹Ÿä¸æ˜¯ä¸èƒ½å¾ˆå¥½çš„å¤„ç†ï¼Œåªä¸è¿‡éœ€è¦åšä¸€äº›é€‚é…å’Œç‰¹å®šåŒ–çš„å¼€å‘ã€‚
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/inet.org/assets/app.4529ec83.js" defer></script>
  </body>
</html>
